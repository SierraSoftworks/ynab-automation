on:
  schedule:
    - cron: 0 0/12 * * *
  workflow_dispatch: {}

name: Run
jobs:
  run:
    name: Scheduled Update
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'

      - uses: ./
        name: "Personal Budget"
        with:
          budget_id: "${{ secrets.YNAB_BUDGET_ID_PERSONAL }}"
          api_key: "${{ secrets.YNAB_API_KEY }}"
          cache: true

      - uses: ./
        name: "Household Budget"
        with:
          budget_id: "${{ secrets.YNAB_BUDGET_ID_HOUSEHOLD }}"
          api_key: "${{ secrets.YNAB_API_KEY }}"
          cache: true
  
